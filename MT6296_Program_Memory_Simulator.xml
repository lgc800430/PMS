<!-- This is the Program Memory System Simulator configuration file -->
<PMS_ROOT>

  <Simuli>
  <!-- 
  <Trace    value = "icc_pm_profiling_35525_shift00000000.txt,imc_pm_profiling_35525_shift0001e734.txt,icc_pm_profiling_35515_shift00042f3b.txt,imc_pm_profiling_35515_shift0006166f.txt">
  <Assembly value = "ELBRUS_PCB01_ELBRUS_S00_DOUBLE_ICC_IMC.disasm">
   -->
    <Trace    value="icc.txt,imc.txt"/>
    <Assembly value="ICC_IMC.txt"/>
  </Simuli>

  <Topology name = "PMS">
    <!-- first step)  Bus description -->
    <!-- Vtile0 -->
    <Node name="VLCFIFO_0_V0"   node_delay="0"    class="VLC"      node_higher_bus="None"  node_lower_bus="PBUS" node_lower_node="SIC_V0"  />
    <Node name="VLCFIFO_1_V0"   node_delay="0"    class="VLC"      node_higher_bus="None"  node_lower_bus="PBUS" node_lower_node="SIC_V0"  />
    <Node name="SIC_V0"         node_delay="0"    class="Cache"    node_higher_bus="PBUS"  node_lower_bus="AXI"  node_lower_node="SPM"     />
    <!-- Vtile1 -->
    <!-- <Node name="VLCFIFO_0_V1"   node_delay="0"    class="VLC"      node_higher_bus="None"  node_lower_bus="PBUS" node_lower_node="SIC_V1"  /> -->
    <!-- <Node name="VLCFIFO_1_V1"   node_delay="0"    class="VLC"      node_higher_bus="None"  node_lower_bus="PBUS" node_lower_node="SIC_V1"  /> -->
    <!-- <Node name="SIC_V1"         node_delay="0"    class="Cache"    node_higher_bus="PBUS"  node_lower_bus="AXI"  node_lower_node="SPM"     /> -->
    
    <Node name="SPM"            node_delay="0"    class="TCM"      node_higher_bus="AXI"   node_lower_bus="None" node_lower_node="None"    />
    
    <!-- second step) Node description -->
    <!-- multiaccess= the ability of arbitration to any Node -->
    <Bus  name="PBUS"           bus_delay="0"     multi_access="1"  />
    <Bus  name="AXI"            bus_delay="0"     multi_access="1"  />
  </Topology>

  <!-- VLC config between VLC_start and VLC_end -->
  <VLC>
    <defult>
      <depth      value="2"  />
      <entrysize  value="16" />        <!-- Bytes -->
      <outsdng    value="2"  />        <!-- outstanding number -->
      <Trace_idx  value="0"  />
    </defult>

    <VLCFIFO_0_V0>
      <Trace_idx  value="0"/>
    </VLCFIFO_0_V0>
    <VLCFIFO_1_V0>
      <Trace_idx  value="1"/>
    </VLCFIFO_1_V0>
    
  </VLC>

  <!-- VLC config between VLC_start and VLC_end -->
  <TCM>
    <defult>
      <TCMdelay   value="10"  />
    </defult>

    <SPM>
      <TCMdelay   value="5"  />
    </SPM>
    
  </TCM>  
  

  <!-- cache config between Cache_start and Cache_end -->
  <Cache>
    <defult>
      <cachesize    value="4x128"/>
      <assoc        value="1"      />      <!-- 1 for direct mapped   -->
      <blocksize    value="128"    />      <!-- Bytes                 -->
      <subblocksize value="16"     />      <!-- Bytes                 -->
      <hitdelay     value="1"      />      <!-- cycle                 -->
      <misspenalty  value="20"     />      <!-- cycle                 -->
      <replacement  value="1"      />      <!-- 0:RR  1:LRU  2:RANDOM -->
      <prefetch     value="2"      />           
      <!-- <outsdng      value="2"      />-->      <!-- outstanding number -->
    </defult>
  </Cache>

</PMS_ROOT>